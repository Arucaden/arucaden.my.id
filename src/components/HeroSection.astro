---
import '../styles/glitch.css';
import { Image } from 'astro:assets';
import arrowDown from '../../public/icons/favicon.svg';
const { name = "DAFFA MAULANA SATRIA" } = Astro.props;
const titles = ["Game Developer", "Front End Developer", "2D Illustrator", "UI/UX Designer"];
---

<section 
  class="relative h-screen w-full flex flex-col justify-center items-center text-center animate-fade-in animate-duration-1000"
  style="background-image: url('/artworks/Mikazuki.webp'); background-size: cover; background-position: bottom;"
>
  <div class="absolute inset-0 bg-black/70 z-0" />

  <div class="z-10 px-4 flex flex-col items-center">
    <div id="name-container" class="relative">
      <h1 
        id="name-text" 
        class="text-3xl md:text-5xl font-bold tracking-wider mb-3"
        data-text={name}
      >{name}</h1>
    </div>
    
    <div class="h-8 md:h-10 overflow-hidden">
      <div id="title-container" class="relative">
        <span 
          id="title-text" 
          class="text-md md:text-xl font-bold whitespace-nowrap text-main"
          data-titles={JSON.stringify(titles)}
          data-index="0"
        ></span>
      </div>
    </div>
  </div>

  <div class="absolute bottom-8 z-10">
    <a href="#profile" class="opacity-80 hover:opacity-100 animate-bounce">
      <Image 
        src={arrowDown} 
        alt="Scroll down"
        width={24}
        height={24}
        class="w-6 h-6" 
      />
    </a>
  </div>
</section> 

<script>
  import { initGlitchEffects } from '../scripts/glitchEffect.js';
  
  document.addEventListener('DOMContentLoaded', () => {
    const cleanup = initGlitchEffects();
    
    document.addEventListener('astro:before-swap', cleanup);
  });
</script>
