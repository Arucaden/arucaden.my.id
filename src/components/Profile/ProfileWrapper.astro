---
import TechCard from '../TechCard.svelte';
import MyLinks from './MyLinks.astro';
import { techItems } from '@data/techstack.ts';

const tech = techItems.filter(item => item.type === 'tech');
const languages = techItems.filter(item => item.type === 'language');

const highlightedTechSet = new Set(["Astro", "Unity"]);
const highlightedLangsSet = new Set(["English", "Indonesia"]);
---

<div class="flex flex-col md:flex-row justify-between gap-8"> 
  <!-- Main -->
  <div class="flex flex-col w-full md:w-2/3 space-y-6"> 
    
    <section aria-labelledby="desc-heading"> 
      <h2 id="desc-heading" class="section-title">/ Description</h2> 
      <p class="text-md sm:text-base">
        I am an undergraduate Computer Science student at State Polytechnic of Malang, 
        specializing as no specialization i just generalist with no capable of limiting or focusing 
        on one subject, also im single, if you want to make me as your dog and leash me whatever you want,
        feel free to connect.
      </p>
    </section>

    <section aria-labelledby="tech-heading">
      <h2 id="tech-heading" class="section-title">/ Techstack</h2>
      <div class="flex flex-row flex-wrap gap-2">
        {tech.map(t => (
          <TechCard
            name={t.name}
            type={t.type}
            icon={t.icon}
            highlight={highlightedTechSet.has(t.name)}
            showName={true} 
          />
        ))}
      </div>
    </section>

    <section aria-labelledby="lang-heading">
      <h2 id="lang-heading" class="section-title">/ Language</h2>
      <div class="flex flex-row flex-wrap gap-2">
        {languages.map(lang => (
          <TechCard
            name={lang.name}
            type={lang.type}
            icon={lang.icon}
            highlight={highlightedLangsSet.has(lang.name)}
            showName={true}
          />
        ))}
      </div>    
    </section>

    <section aria-labelledby="links-heading">
      <h2 id="links-heading" class="section-title">/ Links </h2>
      <MyLinks />
    </section>
  </div>

  <!-- portrait -->
  <aside class="flex flex-col w-full md:w-80 mt-6 md:mt-0"> 
    <h2 class="section-title">/ Portrait</h2> 
    <div class="relative w-full aspect-[3/4] overflow-hidden rounded-lg">
      <img 
        src="Me.png" 
        alt="Portrait of Daffa Maulana Satria" 
        class="image-border w-full h-full object-cover object-center absolute top-0 left-0" 
      />
    </div>
  </aside>
</div>